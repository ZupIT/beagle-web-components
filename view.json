{
  "_beagleComponent_":"beagle:container",
  "children":[
    {
      "_beagleComponent_":"beagle:listView",
      "direction":"VERTICAL",
      "dataSource":"@{genreResponse.genres}",
      "template":{
        "_beagleComponent_":"beagle:container",
        "children":[
          {
            "_beagleComponent_":"beagle:text",
            "text":"@{item.name}"
          },
          {
            "_beagleComponent_":"beagle:listView",
            "direction":"HORIZONTAL",
            "onInit":[
              {
                "_beagleAction_":"beagle:sendRequest",
                "url":"http://localhost:8080/book-database/categories/@{item.name}",
                "method":"GET",
                "onSuccess":[
                  {
                    "_beagleAction_":"beagle:setContext",
                    "contextId":"categoryResponse",
                    "value":{
                      "category":"@{onSuccess.data}"
                    }
                  }
                ]
              }
            ],
            "dataSource":"@{categoryResponse.category}",
            "template":{
              "_beagleComponent_":"beagle:container",
              "children":[
                {
                  "_beagleComponent_":"beagle:text",
                  "text":"Title: @{category.title}"
                },
                {
                  "_beagleComponent_":"beagle:text",
                  "text":"Author: @{category.author}"
                },
                {
                  "_beagleComponent_":"beagle:text",
                  "text":"Characters:"
                },
                {
                  "_beagleComponent_":"beagle:listView",
                  "direction":"VERTICAL",
                  "dataSource":"@{category.characters}",
                  "template":{
                    "_beagleComponent_":"beagle:container",
                    "children":[
                      {
                        "_beagleComponent_":"beagle:text",
                        "text":"- @{character}"
                      }
                    ]
                  },
                  "iteratorName":"character",
                  "id":"character"
                }
              ],
              "style":{
                "padding":{
                  "all":{
                    "value":8.0,
                    "type":"REAL"
                  }
                }
              }
            },
            "iteratorName":"category",
            "id":"category",
            "style":{
              "backgroundColor":"#CFCFCF",
              "margin":{
                "all":{
                  "value":8.0,
                  "type":"REAL"
                }
              }
            }
          }
        ],
        "context":{
          "id":"categoryResponse",
          "value":{
            
          }
        },
        "style":{
          "margin":{
            "all":{
              "value":8.0,
              "type":"REAL"
            }
          }
        }
      },
      "iteratorName":"item",
      "style":{
        "backgroundColor":"#EAEAEA",
        "margin":{
          "all":{
            "value":10.0,
            "type":"REAL"
          }
        }
      }
    }
  ],
  "context":{
    "id":"genreResponse",
    "value":{
      
    }
  },
  "onInit":[
    {
      "_beagleAction_":"beagle:sendRequest",
      "url":"http://localhost:8080/book-database/categories",
      "method":"GET",
      "onSuccess":[
        {
          "_beagleAction_":"beagle:setContext",
          "contextId":"genreResponse",
          "value":{
            "genres":"@{onSuccess.data}"
          }
        }
      ]
    }
  ],
  "style":{
    "size":{
      "height":{
        "value":350.0,
        "type":"REAL"
      }
    }
  }
}
